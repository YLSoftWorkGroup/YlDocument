(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{162:function(t,s,a){"use strict";a.r(s);var n=a(0),o=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("h2",{attrs:{id:"全局函数说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#全局函数说明","aria-hidden":"true"}},[t._v("#")]),t._v(" 全局函数说明")]),a("h3",{attrs:{id:"自定义表单验证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义表单验证","aria-hidden":"true"}},[t._v("#")]),t._v(" 自定义表单验证")]),a("blockquote",[a("p",[t._v("目前element中直提供了不能为空的表单验证，输入类型的表单验证需要自行定义。框架中提供了常用的表单验证")])]),a("ol",{attrs:{start:"0"}},[a("li",[t._v("校验是否为空  "),a("code",[t._v("this.checkIsNull")])]),a("li",[t._v("校验整数  "),a("code",[t._v("this.checkInt")])]),a("li",[t._v("校验浮点数  "),a("code",[t._v("this.checkdecimal")])]),a("li",[t._v("校验邮箱格式  "),a("code",[t._v("this.checkemail")])]),a("li",[t._v("校验电话号码  "),a("code",[t._v("this.checkphoneNum")])]),a("li",[t._v("校验Url  "),a("code",[t._v("this.checkurl")])])]),a("h5",{attrs:{id:"单独校验是否输入类型用法-代码示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#单独校验是否输入类型用法-代码示例","aria-hidden":"true"}},[t._v("#")]),t._v(" 单独校验是否输入类型用法(代码示例)")]),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token function"}},[t._v("data")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            rules"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    \n                        userName"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                            "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  validator"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("checkInt"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" trigger"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'blur'")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                        "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n                "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n           "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h5",{attrs:{id:"单独校验是否输入类型用法-配置示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#单独校验是否输入类型用法-配置示例","aria-hidden":"true"}},[t._v("#")]),t._v(" 单独校验是否输入类型用法(配置示例)")]),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              "),a("span",{attrs:{class:"token string"}},[t._v('"title"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"用户邮箱"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n              "),a("span",{attrs:{class:"token string"}},[t._v('"name"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"userEmail"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n              "),a("span",{attrs:{class:"token string"}},[t._v('"type"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"inputText"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n              "),a("span",{attrs:{class:"token string"}},[t._v('"position"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{attrs:{class:"token string"}},[t._v('"spanNum"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("24")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{attrs:{class:"token string"}},[t._v('"alone"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("false")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{attrs:{class:"token string"}},[t._v('"style"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('""')]),t._v("\n              "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n              "),a("span",{attrs:{class:"token string"}},[t._v('"elmentConfig"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{attrs:{class:"token string"}},[t._v('"type"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"text"')]),t._v("\n              "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n              "),a("span",{attrs:{class:"token string"}},[t._v('"eventConf"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{attrs:{class:"token string"}},[t._v('"isOn"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{attrs:{class:"token string"}},[t._v('"blur"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"function(node,_this){}"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{attrs:{class:"token string"}},[t._v('"init"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("\"function(_this,option){let obj={};obj.validator=_this.checkemail;obj.trigger='blur';obj.message='请输入邮箱格式！';option.rules.push(obj)}\"")]),t._v("\n              "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n              "),a("span",{attrs:{class:"token string"}},[t._v('"rules"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                  "),a("span",{attrs:{class:"token string"}},[t._v('"required"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                  "),a("span",{attrs:{class:"token string"}},[t._v('"message"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"材料名称不能为空！"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                  "),a("span",{attrs:{class:"token string"}},[t._v('"trigger"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"blur"')]),t._v("\n                "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n              "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n            "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("p",[t._v("** 注意:在配置页面中检验输入特殊类型时需要在控件的init事件中给rules对象加入验证规则 **")]),a("hr"),a("h3",{attrs:{id:"判断字段重复"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#判断字段重复","aria-hidden":"true"}},[t._v("#")]),t._v(" 判断字段重复")]),a("blockquote",[a("p",[t._v("字段重复判断封装至全局函数中，调用"),a("code",[t._v("this.IsJudgeRepeat")]),t._v("来实现重复验证；"),a("br"),t._v("\n参数通过rule传入，一共四个参数，以"),a("code",[t._v("|")]),t._v("分割。"),a("br"),t._v("\n参数分别是：数据库表名|验证列（以逗号分割）|验证值（以逗号分割）|原值。")])]),a("h5",{attrs:{id:"用法-（代码示例）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用法-（代码示例）","aria-hidden":"true"}},[t._v("#")]),t._v(" 用法 （代码示例）")]),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token function"}},[t._v("data")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        \n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            rules"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                        userName"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" \n                            "),a("span",{attrs:{class:"token comment"}},[t._v("//验证规则直接调用")]),t._v("\n                            "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("validator"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("commonJudgeRepeat"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" trigger"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'blur'")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                        "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n                "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n           "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    methods"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token function"}},[t._v("commonJudgeRepeat")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rule"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" callback"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" columnName"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v("'userName'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("columnValue"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{attrs:{class:"token keyword"}},[t._v("for")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" item "),a("span",{attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("formModel"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("columnName"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("indexOf")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token operator"}},[t._v(">=")]),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                        columnValue"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("columnValue"),a("span",{attrs:{class:"token operator"}},[t._v("+")]),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("formModel"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("item"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token operator"}},[t._v("+")]),a("span",{attrs:{class:"token string"}},[t._v("','")]),t._v("\n                    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                columnValue"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("columnValue"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("substring")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("columnValue"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" str"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token template-string"}},[a("span",{attrs:{class:"token string"}},[t._v("`Authority_User|")]),a("span",{attrs:{class:"token interpolation"}},[a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("columnName"),a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{attrs:{class:"token string"}},[t._v("|")]),a("span",{attrs:{class:"token interpolation"}},[a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("columnValue"),a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{attrs:{class:"token string"}},[t._v("|")]),a("span",{attrs:{class:"token interpolation"}},[a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("formModel"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ouserName"),a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{attrs:{class:"token string"}},[t._v("`")])]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("IsJudgeRepeat")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("value"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" callback"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h5",{attrs:{id:"用法-（配置示例）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用法-（配置示例）","aria-hidden":"true"}},[t._v("#")]),t._v(" 用法 （配置示例）")]),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("    "),a("span",{attrs:{class:"token comment"}},[t._v("//在控件的init事件中配置初始化方法：")]),t._v("\n   "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n         \n          "),a("span",{attrs:{class:"token string"}},[t._v('"title"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"材料名称"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),a("span",{attrs:{class:"token string"}},[t._v('"name"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"infoName"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),a("span",{attrs:{class:"token string"}},[t._v('"type"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"inputText"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),a("span",{attrs:{class:"token string"}},[t._v('"position"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{attrs:{class:"token string"}},[t._v('"spanNum"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("24")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{attrs:{class:"token string"}},[t._v('"alone"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("false")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{attrs:{class:"token string"}},[t._v('"style"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('""')]),t._v("\n          "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),a("span",{attrs:{class:"token string"}},[t._v('"elmentConfig"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{attrs:{class:"token string"}},[t._v('"placeholder"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"请输入材料名称"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{attrs:{class:"token string"}},[t._v('"type"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"text"')]),t._v("\n          "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),a("span",{attrs:{class:"token string"}},[t._v('"eventConf"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{attrs:{class:"token string"}},[t._v('"isOn"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{attrs:{class:"token string"}},[t._v('"blur"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"function(node,_this){}"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{attrs:{class:"token string"}},[t._v('"init"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("\"function(_this,option){let obj={};obj.validator=_this.commonJudgeRepeat;obj.message='材料名称不能重复';obj.trigger='blur';option.rules[1]=obj;}\"")]),t._v("\n          "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),a("span",{attrs:{class:"token string"}},[t._v('"rules"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              "),a("span",{attrs:{class:"token string"}},[t._v('"required"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n              "),a("span",{attrs:{class:"token string"}},[t._v('"message"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"材料名称不能为空！"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n              "),a("span",{attrs:{class:"token string"}},[t._v('"trigger"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"blur"')]),t._v("\n            "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("//在表单的拦截事件中给`_this.repeatFileds`赋值要判断重复的字段。")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token string"}},[t._v('"InterceptEvent"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       "),a("span",{attrs:{class:"token string"}},[t._v('"beforeDataRender"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token string"}},[t._v('"isOn"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{attrs:{class:"token string"}},[t._v('"event"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("\"function(_this){_this.repeatFileds='infoName'}\"")]),t._v("  \n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("hr"),a("h3",{attrs:{id:"获取单号"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取单号","aria-hidden":"true"}},[t._v("#")]),t._v(" 获取单号")]),a("blockquote",[a("p",[t._v("获取单号的方法"),a("code",[t._v("this.generateOrderCode")]),t._v("为全局方法 调用时记着要在编码管理模块配置才能生效")])]),a("p",[a("strong",[t._v("参数说明：fn(tableName,orderDate,callback,orderType=0,value='',sortCode='')")])]),a("ol",[a("li",[t._v("tableName 对应模块表名称")]),a("li",[t._v("orgId     生成单号的组织机构编号")]),a("li",[t._v("orderDate 对应的单据日期（格式 YYYY/YYYY-MM）")]),a("li",[t._v("callback  回调函数")]),a("li",[t._v("orderType 单据类型，和模块配置中orderType要对应")]),a("li",[t._v("value     扩展列的值")]),a("li",[t._v("sortCode  扩展列的排序值")])]),a("h5",{attrs:{id:"用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用法","aria-hidden":"true"}},[t._v("#")]),t._v(" 用法")]),a("p",[t._v("(代码示例)")]),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \n    "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("generateOrderCode")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'PL_GHInitialPlanOrder'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("formModel"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("order"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("orgId"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("val"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    \n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n             "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("formModel"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("order"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("orderCode"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("val"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n     "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n")])])]),a("p",[t._v("(配置示例)  --在动态模块中进一步对调用单号进行了封装，配置时按照一下方式配置即可：\n"),a("code",[t._v("_getCode(val,type)")])]),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),a("span",{attrs:{class:"token comment"}},[t._v("//页面初始化中调用：")]),t._v("\n   "),a("span",{attrs:{class:"token string"}},[t._v('"InterceptEvent"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token string"}},[t._v('"mounted"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n           "),a("span",{attrs:{class:"token string"}},[t._v('"isOn"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{attrs:{class:"token string"}},[t._v('"event"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"function(_this){_this._getCode(_this.formModel.order.orderDate,0);}"')]),t._v("\n          "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    \n      "),a("span",{attrs:{class:"token comment"}},[t._v("//账期控件change事件中调用：")]),t._v("\n       "),a("span",{attrs:{class:"token string"}},[t._v('"eventConf"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{attrs:{class:"token string"}},[t._v('"isOn"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{attrs:{class:"token string"}},[t._v('"change"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"function(node,_this){_this.formModel.order.orderDate=node;_this._getCode(node,0)}"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n           \n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("hr"),a("h3",{attrs:{id:"日期格式化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#日期格式化","aria-hidden":"true"}},[t._v("#")]),t._v(" 日期格式化")]),a("blockquote",[a("p",[t._v("全局函数中引入了"),a("code",[t._v("monment.js")]),t._v(" 调用"),a("code",[t._v("this.formatDate")]),t._v("提供对日期进行格式化操作。")])]),a("p",[a("strong",[t._v("参数说明：formatDate(val,dateformat)")])]),a("ol",[a("li",[t._v("val  格式话对应的值")]),a("li",[t._v("dateformat  格式化参数（参照monment.js官网）")])]),a("h5",{attrs:{id:"用法示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用法示例","aria-hidden":"true"}},[t._v("#")]),t._v(" 用法示例")]),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("formatDate")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("formModel"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("order"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("orderDate"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token string"}},[t._v('"YYYY-MM"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n")])])]),a("hr"),a("h3",{attrs:{id:"获取用户信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取用户信息","aria-hidden":"true"}},[t._v("#")]),t._v(" 获取用户信息")]),a("blockquote",[a("p",[t._v("全局函数中提供"),a("code",[t._v("this.getUserInfo()")]),t._v("函数来全局调用当前用户信息。")])]),a("h5",{attrs:{id:"对象说明："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#对象说明：","aria-hidden":"true"}},[t._v("#")]),t._v(" 对象说明：")]),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"user"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token property"}},[t._v('"realName"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"超级管理员"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   //用户姓名\n        "),a("span",{attrs:{class:"token property"}},[t._v('"gender"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"男"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" //性别\n        "),a("span",{attrs:{class:"token property"}},[t._v('"userName"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"admin"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" //用户账号\n        "),a("span",{attrs:{class:"token property"}},[t._v('"emailAddress"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"853458083@qq.com"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" //用户邮箱地址\n        "),a("span",{attrs:{class:"token property"}},[t._v('"manageOrgId"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"ec0d0d88-be0e-4de2-b767-a75b011747d7"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" //组织机构主键\n        "),a("span",{attrs:{class:"token property"}},[t._v('"manageOrgName"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"中国中铁集团有限公司"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" //组织机构名称\n        "),a("span",{attrs:{class:"token property"}},[t._v('"companyId"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v('"ec0d0d88-be0e-4de2-b767-a75b011747d7"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" //管理单位主键\n        "),a("span",{attrs:{class:"token property"}},[t._v('"companyName"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v('"中国中铁集团有限公司"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  //管理单位名称\n        "),a("span",{attrs:{class:"token property"}},[t._v('"roleId"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"8136d43a-3d32-4c8b-9da4-a75b011747e5"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" //角色主键\n        "),a("span",{attrs:{class:"token property"}},[t._v('"roleName"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"超级管理员"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // 角色名称\n        "),a("span",{attrs:{class:"token property"}},[t._v('"realOrgId"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v('""')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" //如果是项目部工区 该值为项目部主键\n        "),a("span",{attrs:{class:"token property"}},[t._v('"lastLoginTime"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"2017-04-27T13:50:58.927+08:00"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" //上次登录时间\n        "),a("span",{attrs:{class:"token property"}},[t._v('"id"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"5d6c9789-806f-403d-aaed-a75b01174814"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" //用户主键\n        "),a("span",{attrs:{class:"token property"}},[t._v('"orgCategory"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"集团公司"')]),t._v(" //用户组织机构属性\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"userDataRanges"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("  //用户权限范围\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{attrs:{class:"token property"}},[t._v('"id"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"ec0d0d88-be0e-4de2-b767-a75b011747d7"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{attrs:{class:"token property"}},[t._v('"text"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"中国中铁集团公司"')]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"userRoles"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" //用户角色范围\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{attrs:{class:"token property"}},[t._v('"id"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"8136d43a-3d32-4c8b-9da4-a75b011747e5"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{attrs:{class:"token property"}},[t._v('"text"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"Admin"')]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),a("hr"),a("h3",{attrs:{id:"获取当前模块对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取当前模块对象","aria-hidden":"true"}},[t._v("#")]),t._v(" 获取当前模块对象")]),a("blockquote",[a("p",[t._v("全局函数中封装了"),a("code",[t._v("getTableName(url='')")]),t._v("方法来返回模块对象")])]),a("p",[t._v("参数： url为当前模块的访问路径，一般通过路由对象"),a("code",[t._v("this.$route.path")]),t._v("获取\n返回值：promise对象")]),a("hr"),a("h3",{attrs:{id:"执行通用存储过程方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#执行通用存储过程方法","aria-hidden":"true"}},[t._v("#")]),t._v(" 执行通用存储过程方法")]),a("blockquote",[a("p",[t._v("全局函数中封装了"),a("code",[t._v("commonSqlExcute(params)")]),t._v("方法来执行存储过程\n参数： params具体属性如下：\n返回值：promise对象"),a("br"),a("code",[t._v('json { "procType": 0, //0是返回值类型为数据集合，1是返回值为影响行数 "firstKeys": "string", //存过过程的参数名集合以，分割 "firstValues": "string",/存过过程的参数值集合以，分割，如果值需要加单引号需要用$符号包裹，不需要用#号包裹 "secondKeys": "string", //调用系统中配置的sql语句时的sql语句标识 "secondOperates": "string", //暂时无用 "secondValues": "string", //暂时无用 "procName": "string", //执行存储过程名称 "orderDataType": 0 }')])])]),a("hr"),a("h3",{attrs:{id:"使用async封装的异步请求-仅支持在代码中使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用async封装的异步请求-仅支持在代码中使用","aria-hidden":"true"}},[t._v("#")]),t._v(" 使用async封装的异步请求(仅支持在代码中使用)")]),a("blockquote",[a("p",[t._v("全局函数中封装了"),a("code",[t._v("asyncFunc(apiConf,errText='')")]),t._v("方法来调用异步请求")])]),a("p",[t._v("返回值：promise对象\n参数：\n1.apiConf为异步请求参数，具体参数结构以调用的api决定。\n2.errText为错误提示信息")]),a("hr"),a("h3",{attrs:{id:"获取审批状态信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取审批状态信息","aria-hidden":"true"}},[t._v("#")]),t._v(" 获取审批状态信息")]),a("blockquote",[a("p",[t._v("全局函数中封装了"),a("code",[t._v("getApproveInfo(tableName='')")]),t._v("方法来调用异步请求")])]),a("p",[t._v("返回值：promise对象\n参数：tableName为对应模块表名称")]),a("hr"),a("h3",{attrs:{id:"生成guid字符串"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生成guid字符串","aria-hidden":"true"}},[t._v("#")]),t._v(" 生成guid字符串")]),a("ul",[a("li",[t._v("全局函数中提供"),a("code",[t._v("this.newGuid()")]),t._v("生成guid唯一字符串")]),a("li",[t._v("全局函数中提供"),a("code",[t._v("this.guidOfNull()")]),t._v("生成空的guid字符串")])]),a("hr"),a("h3",{attrs:{id:"execl导入导出"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#execl导入导出","aria-hidden":"true"}},[t._v("#")]),t._v(" execl导入导出")]),a("h5",{attrs:{id:"导入方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#导入方法","aria-hidden":"true"}},[t._v("#")]),t._v(" 导入方法")]),a("blockquote",[a("p",[t._v("全局函数中提供了"),a("code",[t._v("importToJsonData")]),t._v("方法来支持execl导入功能")])]),a("p",[a("strong",[t._v("参数：")])]),a("ol",[a("li",[t._v("files： 传入文件对象")]),a("li",[t._v("callback: 回调函数，参数为导入文件的json数据字符串。")])]),a("p",[t._v("调用示例：")]),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("    "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" files "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" evt"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("files"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),a("span",{attrs:{class:"token comment"}},[t._v("//evt为事件方法参数")]),t._v("\n\t\t\t"),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("files "),a("span",{attrs:{class:"token operator"}},[t._v("&&")]),t._v(" files"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t"),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("importToJsonData")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("files"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t\t"),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("data"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t\t"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("hr"),a("h5",{attrs:{id:"导出方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#导出方法","aria-hidden":"true"}},[t._v("#")]),t._v(" 导出方法")]),a("blockquote",[a("p",[t._v("全局函数中提供了"),a("code",[t._v("exportHtmlToExcel")]),t._v("方法来支持execl导出功能")])]),a("p",[a("strong",[t._v("参数：")])]),a("ol",[a("li",[a("p",[t._v("str： 导出文件的html拼接字符串")])]),a("li",[a("p",[t._v("fileConf: fileConf为导出文件的配置参数详细说明如下：")]),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[t._v("       "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n        "),a("span",{attrs:{class:"token property"}},[t._v('"fileName"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v('"导出文档"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" //导出文件名\n        "),a("span",{attrs:{class:"token property"}},[t._v('"titleName"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v('"测试报表"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  //报表标题\n        "),a("span",{attrs:{class:"token property"}},[t._v('"withDate"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  //是否带导出日期\n        "),a("span",{attrs:{class:"token property"}},[t._v('"withReportHeader"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" //是否显示报表头\n        "),a("span",{attrs:{class:"token property"}},[t._v('"HeaderColspan"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),a("span",{attrs:{class:"token number"}},[t._v("15")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  //表头合并列数\n        "),a("span",{attrs:{class:"token property"}},[t._v('"blobType"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v('"application/vnd.ms-excel"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  //导出文件格式\n        "),a("span",{attrs:{class:"token property"}},[t._v('"docType"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v('".xls"')]),t._v(" //导出文件后缀\n       "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])]),a("p",[t._v("调用示例：")]),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("    "),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" Str"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token template-string"}},[a("span",{attrs:{class:"token string"}},[t._v('`\n\t\t\t<table style=\\"border: 1px solid black;\\">\n\t\t\t\t<tr>\n\t\t\t\t\t<td align=\\"center\\"  colspan=\\"14\\" height=\\"40\\"> <span style=\\"font-size: 20px;\\"><b><u> 钢筋需用计划</u></b></span></td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td nowrap colspan=\\"3\\"> 计划单位:</td>\n\t\t\t\t\t<td nowrap colspan=\\"5\\" align=\\"left\\">计划日期:</td>\n\t\t\t\t\t</td><td nowrap align=\\"left\\" colspan=\\"6\\">设计编号：</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t\t`')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("exportHtmlToExcel")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Str"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("withDate"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token boolean"}},[t._v("false")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("//配置参数可忽略")]),t._v("\n\n")])])]),a("blockquote",[a("p",[t._v("为了方便调用，特别封装了"),a("code",[t._v("exportCommonTemplate")]),t._v("方法只需要传入数据集即可，该方法可以满足格式简单需求。")])]),a("p",[a("strong",[t._v("参数：")])]),a("ol",[a("li",[t._v("ColumnConf： 导出文件的html拼接字符串")]),a("li",[t._v("DataList： 传入数据数组")]),a("li",[t._v("titleName：导出文件标题")])]),a("p",[t._v("调用示例")]),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("     "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("exportCommonTemplate")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n     "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token string"}},[t._v('"attr"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token string"}},[t._v('"align"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v('"center"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token string"}},[t._v('"label"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v('"表"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token string"}},[t._v('"type"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v('"selection"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token string"}},[t._v('"width"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token number"}},[t._v("80")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token string"}},[t._v('"columnExplain"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v('""')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token string"}},[t._v('"mouduleTableName"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v('"TS_TSingleTable01"')]),t._v("\n     "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token string"}},[t._v('"测试报表"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("hr")])}],!1,null,null,null);s.default=o.exports}}]);